$(document).ready(function(){var e=$(window),s=$(document),t=[.02,.01,.47,1];function i(){var t,i,o,l;svg4everybody(),window.viewportUnitsBuggyfill.init({force:!0,refreshDebounceWait:150,appendToBody:!0}),a(),e.on("scroll",throttle(a,10)),t=0,$("[js-popup]").magnificPopup({type:"inline",fixedContentPos:!0,fixedBgPos:!0,overflowY:"auto",closeBtnInside:!0,preloader:!1,midClick:!0,removalDelay:300,mainClass:"popup-buble",callbacks:{beforeOpen:function(){t=e.scrollTop()},close:function(){e.scrollTop(t)}}}),$("[js-popup-gallery]").magnificPopup({delegate:"a",type:"image",tLoading:"Загрузка #%curr%...",mainClass:"popup-buble",gallery:{enabled:!0,navigateByImgClick:!0,preload:[0,1]},image:{tError:'<a href="%url%">The image #%curr%</a> could not be loaded.'}}),i='<button class="slick-arrow slick-prev"><svg class="ico ico-prev"><use xlink:href="img/sprite.svg#ico-prev"></use></svg></button>',o='<button class="slick-arrow slick-next"><svg class="ico ico-next"><use xlink:href="img/sprite.svg#ico-next"></use></svg></button>',$(".js-slides-fade").slick({fade:!0,dots:!1,arrows:!1,asNavFor:".js-slides-h, .js-slides-v",cssEase:"cubic-bezier(0.645, 0.045, 0.355, 1)",mobileFirst:!0,responsive:[{breakpoint:1200,settings:{arrows:!1,dots:!0}}]}),$(".js-slides-v").slick({fade:!0,arrows:!0,swipe:!1,asNavFor:".js-slides-fade, .js-slides-h",mobileFirst:!0,cssEase:"cubic-bezier(0.645, 0.045, 0.355, 1)",nextArrow:i,prevArrow:o,responsive:[{breakpoint:767,settings:{arrows:!1}},{breakpoint:1200,settings:{arrows:!1,dots:!1}}]}),$(".js-slides-h").slick({arrows:!1,dots:!0,asNavFor:".js-slides-fade, .js-slides-v",mobileFirst:!0,cssEase:"cubic-bezier(0.645, 0.045, 0.355, 1)",nextArrow:i,prevArrow:o,responsive:[{breakpoint:767,settings:{arrows:!0}},{breakpoint:1200,settings:{dots:!1,arrows:!0}}]}),$(".js-slides-portfolio").slick({fade:!0,dots:!1,arrows:!0,cssEase:"ease",nextArrow:i,prevArrow:o}),$(".js-slides-contacts").slick({arrows:!0,dots:!0,mobileFirst:!0,cssEase:"cubic-bezier(0.645, 0.045, 0.355, 1)",nextArrow:i,prevArrow:o,responsive:[{breakpoint:767,settings:{arrows:!0}},{breakpoint:1200,settings:"unslick"}]}),$(".js-gallery-slides").slick({slidesToShow:1,slidesToScroll:1,arrows:!1,fade:!0,asNavFor:".js-gallery-thumbs"}),$(".js-gallery-thumbs").slick({vertical:!0,slidesToShow:4,slidesToScroll:1,asNavFor:".js-gallery-slides",arrows:!1,centerMode:!1,focusOnSelect:!0,mobileFirst:!0,responsive:[{breakpoint:767,settings:{slidesToShow:5}}]}),$(".js-dateMask").mask("99.99.99",{placeholder:"ДД.ММ.ГГ"}),$("input[type='tel']").mask("+7 (000) 000-00-00"),$(".js-readmore").readmore({speed:75,moreLink:'<a href="#" class="btn btn--collapse">развернуть текст</a>',lessLink:'<a href="#" class="btn btn--collapse">свернуть текст</a>'}),$(".product").closest('[class^="col"]').matchHeight({byRow:!0,property:"height",target:$(".product"),remove:!1}),n(),e.on("resize",debounce(n,200)),$(".wow").each(function(e,s){var t,i=scrollMonitor.create($(s));t=$(window).width()<768?0:$(s).data("animation-delay");var o=$(s).data("animation-class")||"wowFadeUp",a=$(s).data("animation-name")||"wowFade";i.enterViewport(throttle(function(){$(s).addClass(o),$(s).css({"animation-name":a,"animation-delay":t,visibility:"visible"})},100,{leading:!0})),i.exitViewport(throttle(function(){$(s).removeClass(o),$(s).css({"animation-name":"none","animation-delay":0,visibility:"hidden"})},100))}),s.find("[js-lazy]").Lazy({threshold:500,enableThrottle:!0,throttle:100,scrollDirection:"vertical",effect:"fadeIn",effectTime:350,onError:function(e){console.log("error loading "+e.data("src"))},beforeLoad:function(e){}}),function(){if($("#contacts__map").length){var e=new google.maps.Map(document.getElementById("contacts__map"),{center:{lat:54.3181598,lng:48.3837915},zoom:4,disableDefaultUI:!0,styles:[{featureType:"administrative",elementType:"labels.text.fill",stylers:[{color:"#636363"}]},{featureType:"landscape",elementType:"all",stylers:[{color:"#fffcf2"}]},{featureType:"water",elementType:"all",stylers:[{color:"#aad3e6"},{visibility:"on"}]}]});new google.maps.Marker({position:new google.maps.LatLng(55.797139,37.6093601),map:e,icon:{url:"img/pin.png",scaledSize:new google.maps.Size(44,60)}}),new google.maps.Marker({position:new google.maps.LatLng(59.854462,30.4811287),map:e,icon:{url:"img/pin.png",scaledSize:new google.maps.Size(44,60)}}),new google.maps.Marker({position:new google.maps.LatLng(51.174037,71.4223829),map:e,icon:{url:"img/pin.png",scaledSize:new google.maps.Size(44,60)}})}}(),r(),e.on("resize",throttle(r,100)),e.on("resize",debounce(c,200)),((l=window.location.host.toLowerCase()).indexOf("localhost")>=0||l.indexOf("surge")>=0)&&($("body").addClass("is-dev-env"),s.on("click","[js-pixelPerfect]",function(e){var s=$(this).data("target");$(this).toggleClass("is-active"),$(s).siblings().removeClass("is-active"),$(s).toggleClass("is-active")}).on("click","[js-pixelPerfectInvert]",function(e){$(this).toggleClass("is-active"),$("body").toggleClass("grid-inverted")}))}i();/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);function o(){return!!(window.navigator.userAgent.indexOf("MSIE ")>0||navigator.userAgent.match(/Trident.*rv\:11\./))}function a(){e.scrollTop()>0?$("html").addClass("is-headerFixed"):$("html").removeClass("is-headerFixed")}function n(){$(".product").each(function(e,s){$(s).closest('[class^="col"]').css({"margin-bottom":$(s).css("margin-bottom")})})}function r(){var s=$("[js-reveal-footer]");if(s.length>0){var t=s.outerHeight();e.height()-t>100&&!o()?($("body").css({"margin-bottom":t}),s.css({position:"fixed","z-index":-10})):($("body").css({"margin-bottom":0}),s.css({position:"static","z-index":10}))}}o()&&$("body").addClass("is-ie"),s.on("click",'[href="#"]',function(e){e.preventDefault()}).on("click",'a[href^="#section"]',function(){var e=$(this).attr("href");return $("body, html").animate({scrollTop:$(e).offset().top},1e3),!1}),s.on("click",".js-nav-trigger",function(e){e.preventDefault(),$("html").is(".is-navOpen")?($("html").removeClass("is-navOpen"),$(".js-nav-collapse").slideUp("fast")):($("html").addClass("is-navOpen"),$(".js-nav-collapse").slideDown("fast"))}).on("click",function(e){0==$(e.target).closest(".nav, .btn--nav").length&&($("html").removeClass("is-navOpen"),$(".js-nav-collapse").slideUp("fast"))}),s.on("click",".js-search-open",function(e){e.preventDefault(),$("html").is(".is-search-open")?$("html").removeClass("is-search-open"):($("html").addClass("is-search-open"),$(".js-search-input").focus())}),s.on("click",".js-search-clear",function(e){e.preventDefault(),$(".js-search").find("form").trigger("reset"),$("html").removeClass("is-search-keyup is-search-found is-search-notfound")}),s.on("click",function(e){0==$(e.target).closest(".js-search").length&&$("html").removeClass("is-search-open is-search-keyup is-search-found is-search-notfound")}),$(".js-search-input").on("input",function(e){var s=this.value.toLowerCase(),t=this.value.length;t>=1?($("html").addClass("is-search-keyup"),$(".js-search-progress").width(0).stop().animate({width:"100%"},1e3,function(){$(".js-search-progress").width(0),$(".search__item-name").each(function(){var e=$(this).text(),i=e.toLowerCase(),o="<mark>"+e.substr(0,t)+"</mark>"+e.substr(t);0==i.indexOf(s)?$(this).html(o).closest("li").addClass("is-visible"):$(this).html(o).closest("li").removeClass("is-visible");$(".search__item-name").closest("li").length;0==$(".search__item-name").closest("li.is-visible").length?$("html").removeClass("is-search-found").addClass("is-search-notfound"):$("html").removeClass("is-search-notfound").addClass("is-search-found")})})):($("html").removeClass("is-search-keyup is-search-found is-search-notfound"),$(".js-search-progress").stop().width(0))}),s.on("click",".catalog__sorting-btn",function(e){e.preventDefault(),$("html").is(".is-sorting-open")?$("html").removeClass("is-sorting-open"):$("html").addClass("is-sorting-open")}),s.on("change","[name=sorting]",function(e){$("html").removeClass("is-sorting-open");var s=$(this).val();$(".catalog__sorting-selected").text(s)}),s.on("click",".js-filter-trigger",function(e){e.preventDefault(),$("html").is(".is-filter-open")?$("html").removeClass("is-filter-open"):$("html").addClass("is-filter-open")}),s.on("mouseenter",".js-categories-trigger",function(){$("html").addClass("is-categories-open")}),s.on("mouseleave",".js-categories-trigger",function(){$("html").removeClass("is-categories-open")}),s.on("click",".js-categories-trigger",function(e){e.preventDefault(),$("html").is(".is-categories-open-fixed")?$("html").removeClass("is-categories-open-fixed"):$("html").addClass("is-categories-open-fixed")}),s.on("click",function(e){0==$(e.target).closest(".catalog__categories, .js-categories-trigger").length&&$("html").removeClass("is-categories-open")}),s.on("click",function(e){0==$(e.target).closest(".catalog__sorting").length&&$("html").removeClass("is-sorting-open")}),s.on("click","[js-showAllCheckboxes]",function(e){var s=$(this).is(".is-opened")?$(this).data("text-more"):$(this).data("text-less");$(this).toggleClass("is-opened"),$("[js-hiddenCheckboxes]").slideToggle(),$(this).find(".btn").text(s),e.preventDefault()}),$(".ui__input, .ui__textarea").on("focus blur",function(e){$(this).parents(".ui__group").toggleClass("is-focused","focus"===e.type||this.value.length>0)}).trigger("blur"),s.on("click",".js-sku-trigger",function(e){e.preventDefault(),$("html").is(".is-sku-open")?$("html").removeClass("is-sku-open"):$("html").addClass("is-sku-open")}),$.fn.matchHeight._throttle=200,Barba.Pjax.Dom.containerClass="page__content";var l=Barba.BaseTransition.extend({start:function(){Promise.all([this.newContainerLoading,this.fadeOut()]).then(this.fadeIn.bind(this))},fadeOut:function(){var e=Barba.Utils.deferred();return anime({targets:this.oldContainer,opacity:.5,easing:t,duration:300,complete:function(s){e.resolve()}}),e.promise},fadeIn:function(){var e=this,s=$(this.newContainer);$(this.oldContainer).hide(),s.css({visibility:"visible",opacity:.5}),anime({targets:"html, body",scrollTop:0,easing:t,duration:150}),anime({targets:this.newContainer,opacity:1,easing:t,duration:300,complete:function(s){$(window).scroll(),$(window).resize(),e.done()}})}});function c(){var s=window.location.host.toLowerCase();if(s.indexOf("localhost")>=0||s.indexOf("surge")>=0){var t="<div class='dev-bp-debug'>"+e.width()+"</div>";$(".page").append(t),setTimeout(function(){$(".dev-bp-debug").fadeOut()},1e3),setTimeout(function(){$(".dev-bp-debug").remove()},1500)}}Barba.Pjax.getTransition=function(){return l},Barba.Prefetch.init(),Barba.Pjax.start(),Barba.Dispatcher.on("newPageReady",function(e,s,t,o){var a=o.replace(/(<\/?)body( .+?)?>/gi,"$1notbody$2>",o),n=$(a).filter("notbody").attr("class");$("html").removeClass(),$("body").attr("class",n),i()})}),function(e){var s=0;e.fn.scrolled=function(t,i){"function"==typeof t&&(i=t,t=50);var o="scrollTimer"+s++;this.scroll(function(){var s=e(this),a=s.data(o);a&&clearTimeout(a),a=setTimeout(function(){s.removeData(o),i.call(s[0])},t),s.data(o,a)})}}(jQuery),function(e){var s=0;e.fn.resized=function(t,i){"function"==typeof t&&(i=t,t=50);var o="scrollTimer"+s++;this.resize(function(){var s=e(this),a=s.data(o);a&&clearTimeout(a),a=setTimeout(function(){s.removeData(o),i.call(s[0])},t),s.data(o,a)})}}(jQuery),$(document).one("focus.autoExpand","textarea.autoExpand",function(){var e=this.value;this.value="",this.baseScrollHeight=this.scrollHeight,this.value=e}).on("input.autoExpand","textarea.autoExpand",function(){var e,s=0|this.getAttribute("data-min-rows");this.rows=s,e=Math.ceil((this.scrollHeight-this.baseScrollHeight)/17),this.rows=s+e}),$(document).ready(function(){$.validator.addMethod("regexp",function(e,s){return this.optional(s)||/^\+\d \(\d{3}\) \d{3}-\d{2}-\d{2}$/.test(e)});var e=function(){$(".js-validate").find(".is-error").length>0?$(".js-validate").addClass("is-invalid"):$(".js-validate").removeClass("is-invalid")};$(".js-validate").validate({errorClass:"is-error",ignore:":disabled,:hidden",highlight:function(s){$(s).addClass("is-error"),e()},unhighlight:function(s){$(s).removeClass("is-error"),e()},rules:{name:{required:!0},tel:{required:!0,regexp:!0},email:{required:!0,email:!0},message:{required:!0}},errorPlacement:function(e,s){return!0},submitHandler:function(e){return $(e).addClass("is-valid"),setTimeout(function(){$(".js-validate").trigger("reset").removeClass("is-valid").find(".ui__group").removeClass("is-focused")},2e3),console.log("Отправили!"),!1}})});